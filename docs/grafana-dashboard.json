{
  "dashboard": {
    "title": "Unauthority (UAT) Node Monitoring",
    "tags": ["blockchain", "uat", "unauthority"],
    "timezone": "browser",
    "panels": [
      {
        "id": 1,
        "title": "Blockchain Overview",
        "type": "stat",
        "targets": [
          {
            "expr": "uat_blocks_total",
            "legendFormat": "Total Blocks"
          },
          {
            "expr": "uat_accounts_total",
            "legendFormat": "Total Accounts"
          },
          {
            "expr": "uat_transactions_total",
            "legendFormat": "Transactions"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0}
      },
      {
        "id": 2,
        "title": "Block Types Distribution",
        "type": "piechart",
        "targets": [
          {
            "expr": "uat_send_blocks_total",
            "legendFormat": "Send Blocks"
          },
          {
            "expr": "uat_receive_blocks_total",
            "legendFormat": "Receive Blocks"
          },
          {
            "expr": "uat_mint_blocks_total",
            "legendFormat": "Mint Blocks (PoB)"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0}
      },
      {
        "id": 3,
        "title": "Database Metrics",
        "type": "graph",
        "targets": [
          {
            "expr": "uat_db_size_bytes / 1048576",
            "legendFormat": "DB Size (MB)"
          },
          {
            "expr": "uat_db_blocks_count",
            "legendFormat": "Blocks Stored"
          },
          {
            "expr": "uat_db_accounts_count",
            "legendFormat": "Accounts Stored"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8}
      },
      {
        "id": 4,
        "title": "Database Latency (P95)",
        "type": "graph",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, uat_db_save_duration_seconds)",
            "legendFormat": "Save Latency (P95)"
          },
          {
            "expr": "histogram_quantile(0.95, uat_db_load_duration_seconds)",
            "legendFormat": "Load Latency (P95)"
          }
        ],
        "yaxes": [{"format": "s", "label": "Duration"}],
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8}
      },
      {
        "id": 5,
        "title": "Consensus Performance",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(uat_consensus_rounds_total[5m])",
            "legendFormat": "Consensus Rounds/sec"
          },
          {
            "expr": "histogram_quantile(0.95, uat_consensus_latency_seconds)",
            "legendFormat": "Finality Latency (P95)"
          },
          {
            "expr": "uat_active_validators",
            "legendFormat": "Active Validators"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 16}
      },
      {
        "id": 6,
        "title": "Oracle Prices (BTC & ETH)",
        "type": "graph",
        "targets": [
          {
            "expr": "uat_oracle_btc_price_usd / 1000000",
            "legendFormat": "BTC Price (IDR, millions)"
          },
          {
            "expr": "uat_oracle_eth_price_usd / 1000000",
            "legendFormat": "ETH Price (IDR, millions)"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 16}
      },
      {
        "id": 7,
        "title": "PoB Distribution Metrics",
        "type": "graph",
        "targets": [
          {
            "expr": "uat_pob_remaining_supply / 100000000",
            "legendFormat": "Remaining Supply (UAT)"
          },
          {
            "expr": "rate(uat_pob_minted_uat[1h]) * 3600",
            "legendFormat": "UAT Minted/hour"
          },
          {
            "expr": "rate(uat_pob_burns_total[5m]) * 300",
            "legendFormat": "Burn Events/5min"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 24}
      },
      {
        "id": 8,
        "title": "Network Activity",
        "type": "graph",
        "targets": [
          {
            "expr": "uat_connected_peers",
            "legendFormat": "Connected Peers"
          },
          {
            "expr": "rate(uat_p2p_messages_received_total[1m]) * 60",
            "legendFormat": "Messages Received/min"
          },
          {
            "expr": "rate(uat_p2p_messages_sent_total[1m]) * 60",
            "legendFormat": "Messages Sent/min"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 24}
      },
      {
        "id": 9,
        "title": "API Performance",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(uat_api_requests_total[5m]) * 300",
            "legendFormat": "REST API Requests/5min"
          },
          {
            "expr": "rate(uat_api_errors_total[5m]) * 300",
            "legendFormat": "API Errors/5min"
          },
          {
            "expr": "histogram_quantile(0.95, uat_api_request_duration_seconds)",
            "legendFormat": "Request Latency (P95)"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 32}
      },
      {
        "id": 10,
        "title": "Rate Limiting & Security",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(uat_rate_limit_rejections_total[5m]) * 300",
            "legendFormat": "Rate Limit Rejections/5min"
          },
          {
            "expr": "uat_rate_limit_active_ips",
            "legendFormat": "Tracked IPs"
          },
          {
            "expr": "rate(uat_slashing_events_total[1h]) * 3600",
            "legendFormat": "Slashing Events/hour"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 32}
      },
      {
        "id": 11,
        "title": "Smart Contracts",
        "type": "graph",
        "targets": [
          {
            "expr": "uat_contracts_deployed_total",
            "legendFormat": "Total Contracts"
          },
          {
            "expr": "rate(uat_contract_executions_total[5m]) * 300",
            "legendFormat": "Executions/5min"
          },
          {
            "expr": "rate(uat_contract_gas_used_total[5m]) * 300",
            "legendFormat": "Gas Used/5min"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 40}
      },
      {
        "id": 12,
        "title": "gRPC Metrics",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(uat_grpc_requests_total[5m]) * 300",
            "legendFormat": "gRPC Requests/5min"
          },
          {
            "expr": "rate(uat_grpc_errors_total[5m]) * 300",
            "legendFormat": "gRPC Errors/5min"
          }
        ],
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 40}
      }
    ],
    "refresh": "10s",
    "time": {"from": "now-1h", "to": "now"},
    "timepicker": {},
    "schemaVersion": 16,
    "version": 1
  }
}
